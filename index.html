<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create a Custom Message Link! </title>
    <link rel="icon" type="image/x-icon" href="pic/favicon-1.ico">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4971805625253461"
     crossorigin="anonymous"></script>

    <head> 
        <link rel="stylesheet" href="./styles.css">
    </head>
    
</head>
<body>

    <div class ="container">

        <!-- <select id="language-switcher" onchange="changeLanguage(this.value)">
        <option value="index.html">English</option>
        <option value="TH/index-th.html">‡πÑ‡∏ó‡∏¢</option>
        </select> -->
      <div class = "grouphead">
            <h1 class = "header_text124" >myValentine</h1>
            <h2 class = "header_text" >Make unique links send to people you like! </h2>
            <!-- <h1 class = "header_text245" >Valentine </h1> -->
            <!--<h2 class = "text-preview">Preview</h2> -->
            
            <div class="frame-group">
                <!-- <div class="image-frame">
                    <img src="pic/Old.png" alt="Framed Image">
                </div> -->
        
                <div class="slideshow">
                    <img src="pic/image3.png" class="slide active">
                    <img src="pic/image4.png" class="slide">
                    <button class="prev" onclick="prevSlide()">&#10094;</button>
                    <button class="next" onclick="nextSlide()">&#10095;</button>
                </div>
            </div>


            
      </div>

        <div class="button1">

            <div class = botton11>
                <h3 class = "boxfill_text"> üç• Recipient name (option)</h3>
                <input type="text" id="nameInput" placeholder="Enter recipient's name..." />
                <br>
            </div>

            <div class = botton15>
                <h3 class = "boxfill_text"> üìÇ Question (option)</h3>
                <input type="text" id="questionInput" placeholder="Enter your question" />
                <br>
            </div>

            <div class = botton12>
                <h3 class = "boxfill_text"> üçí Head massage (option)</h3>
                <!-- <h4 class = "Example"> Ex. Yes! "Name" </h3> -->
               <input type="text" id="message1" placeholder="Enter first message, Yes! Aoxwiz" />
               <br>
            </div>
        
            <div class = botton13>
                <h3 class = "boxfill_text"> üñçÔ∏è Second message (option)</h3> 
                <!-- <h4 class = "Example"> Ex. I want to be your Valentine too!! </h4> -->
                <input type="text" id="message2" placeholder="Enter message" />
    
            </div> 

            <div class = botton14> 
                <h3 class = "boxfill_text">üñáÔ∏è Add link (option)</h3>

                <input type="text" id="linkmessage3" placeholder="Enter the link" />
                <br>

        </div>

            <button class="generate-btn" onclick="generateLink()">Generate Link</button>
        
        <div class="copy-container hidden" >

               <p class="copy-message">Yay! u'r copy this link now!</p>
            
                <h3 class = "text_result">Click the link to Open</h3>

                <p id="result" class="hidden" data-link=""></p>

                <!-- Hidden Copy Link Button -->
                <button class="copy-btn" onclick="copyToClipboard()">
                <img src="Icon/Content CopyIcon.png" alt="Copy Icon">
                Copy link 
                </button>
            </div>

            <div class="image-container">
                <div class="footer">
                    Made by<a class = "instagram" href="https://buymeacoffee.com/aoxwizz"> @aoxwizz</a></br>
                    Thank you for visiting this website.
                </div>
        </div>

     </div>

        <!-- <a href="https://www.buymeacoffee.com/aoxwizz">
        <img src="https://img.buymeacoffee.com/button-api/?text=Buy me a matcha pls ü•∫&emoji=üçµ&slug=aoxwizz&button_colour=ffbee2&font_colour=000000&font_family=Arial&outline_colour=000000&border=1pxsolidrgb(76, 69, 69)&coffee_colour=FFDD00" /></a>
        -->
    </div>

    <script>

    let slides = document.querySelectorAll('.slide');
        let currentSlide = 0;

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');
        }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
        }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
        }


    function nextPage() {
        let name = encodeURIComponent(document.getElementById("nameInput").value);
        let question = encodeURIComponent(document.getElementById("questionInput").value);
        let msg1 = encodeURIComponent(document.getElementById("message1").value);
        let msg2 = encodeURIComponent(document.getElementById("message2").value);
        let linkmsg3 = encodeURIComponent(document.getElementById("linkmessage3").value);

        console.log("DEBUG: Sending linkmsg3 =", linkmsg3);

        let url = `BemyValentine.html?name=${name}&question=${question}&msg1=${msg1}&msg2=${msg2}&linkmsg3=${encodeURIComponent(linkmsg3)}`;
        console.log("DEBUG: Redirecting to:", url);
        window.location.href = url;
        }

    function generateLink() {
        let name = encodeURIComponent(document.getElementById("nameInput").value.trim());
        let question = encodeURIComponent(document.getElementById("questionInput").value.trim());
        let msg1 = encodeURIComponent(document.getElementById("message1").value.trim());
        let msg2 = encodeURIComponent(document.getElementById("message2").value.trim());
        let linkmsg3 = encodeURIComponent(document.getElementById("linkmessage3").value.trim());


        if (name.length > 40 ) {
            alert ("Whoops! Recipient name is too long! Keep it under 40 charecters do they have a short name?.");
            return;
        }

        if (msg1.length > 60 ) {
            alert ("Oopsie! head masssage is too much! a little less under 60 charecters, cutie! üíñ");
            return;
        }

        if (msg2.length > 80 ) {
            alert (" Oopsie daisy! the second massage is too long! Let‚Äôs keep it under 60 charecters ü´∂üèª.");
            return;
        }

        let shareableLink = `${window.location.origin}/BemyValentine.html?name=${name}&question=${question}&msg1=${msg1}&msg2=${msg2}&linkmsg3=${linkmsg3}`;
    
        let resultElement = document.getElementById("result");
        resultElement.innerHTML = `<a href="${shareableLink}" target="_blank">${shareableLink}</a>`;
        resultElement.dataset.link = shareableLink;

    
        document.querySelector(".copy-btn").classList.remove("hidden");
        document.querySelector(".copy-container").classList.remove("hidden");
        resultElement.classList.remove("hidden");
    }

function copyToClipboard() {
    let resultElement = document.getElementById("result");
    let textToCopy = resultElement.dataset.link;

    if (textToCopy) {
        navigator.clipboard.writeText(textToCopy).then(() => {
            let message = document.querySelector(".copy-message");
            message.style.opacity = "1";
            setTimeout(() => { message.style.opacity = "0"; }, 2000);
        }).catch(err => {
            console.error("Failed to copy:", err);
        });
    } else {
        alert("No link to copy! Click Generate first.");
    }

    }
    
    </script>

    <script>
    window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>

     <script defer src="/_vercel/speed-insights/script.js"></script>

     <script defer src="/_vercel/insights/script.js"></script>



</body>
</html>